<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BYTROX SCRIPT</title>
  <style>
    body, html {
      height: 100%;
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      background: #fff;
      font-family: Arial, sans-serif;
      color: #000;
    }
    .top-bar, .bottom-bar {
      width: 150%;
      background: #E10600;
      color: #fff;
      font-weight: bold;
      text-align: center;
      padding: 20px 0;
      font-size: 1.8em;
      position: relative;
    }
    .orbit-container {
      position: relative;
      width: 300px;
      height: 300px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #crashValue {
      position: absolute;
      font-size: 2.4em;
      font-weight: bold;
      color: #000;
      text-align: center;
    }
    canvas {
      position: absolute;
      width: 100%;
      height: 100%;
    }
    #time {
      font-size: 1.2em;
      font-weight: bold;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }
    .icon {
      width: 50px;
      height: 50px;
      cursor: pointer;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
    }
    #homeIcon {
      left: 90px;
    }
    #tgIcon {
      right: 90px;
    }
    .circle-icon {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
    }
    .bottom-bar {
  display: flex;
  justify-content: center; /* markazga jamlaymiz */
  align-items: center;
  padding: 10px 15px;
  position: relative;
  gap: 95px; /* menu, time, tg orasidagi masofa */
}
.bottom-bar #time {
  position: static;
  transform: none;
  flex-grow: 0; /* markazda qoladi */
  text-align: center;
}
.circle-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  cursor: pointer;
}

  </style>
</head>
<body>

  <div class="top-bar">
    ùóïùó¨ùóßùó•ùó¢ùó´ ùó¶ùóñùó•ùóúùó£ùóß
  </div>

  <div class="orbit-container">
    <canvas id="orbitCanvas"></canvas>
    <div id="crashValue">0.00</div>
  </div>

  <div class="bottom-bar">
    <img id="menuIcon" class="circle-icon" src="menu.png" alt="Menu">
    <canvas id="homeIcon" class="icon"></canvas>
    <div id="time">00:00:00 AM</div>
    <img id="tgImg" class="circle-icon" src="tg.png" alt="Telegram">
    <canvas id="tgIcon" class="icon"></canvas>
  </div>

<script>
  let crashElement = document.getElementById("crashValue");
  let socket = null;
  function connectWebSocket() {
    socket = new WebSocket("wss://eg1xbet.com/games-frame/sockets/crash?appGuid=00000000-0000-0000-0000-000000000000&whence=110&fcountry=66&ref=1&gr=0&lng=ar");
    socket.onopen = function () {
      socket.send('{"protocol":"json","version":1}\x1e');
      socket.send('{"arguments":[{"activity":30,"currency":119}],"invocationId":"0","target":"Guest","type":1}\x1e');
    };
    socket.onmessage = function (event) {
      try {
        let data = event.data.slice(0, -1);
        let json = JSON.parse(data);
        if (json.target === "OnCrash") {
          let value = json.arguments[0].f;
          crashElement.innerText = value;
        }
      } catch {}
    };
    socket.onclose = function () {
      setTimeout(connectWebSocket, 3000);
    };
  }
  connectWebSocket();

  const canvas = document.getElementById("orbitCanvas");
  const ctx = canvas.getContext("2d");
  let w, h;
  function resize() {
    w = canvas.width = canvas.offsetWidth;
    h = canvas.height = canvas.offsetHeight;
  }
  window.addEventListener("resize", resize);
  resize();

  let animFrac = 0;
  const dashOn = 20, dashOff = 16;
  const strokeColor = "#E10600";
  const planeCountOuter = 3, planeCountInner = 3;

  const planeImg = new Image();
  planeImg.src = "plane.png";

  function drawPlane(x, y, angle, scale) {
    ctx.save();
    ctx.translate(x, y);
    ctx.rotate(angle);
    ctx.scale(scale, scale);
    ctx.drawImage(planeImg, -48, -60, 100, 100);
    ctx.restore();
  }

  function drawOrbit(radius, count, cw) {
    ctx.beginPath();
    ctx.arc(w/2, h/2, radius, 0, Math.PI*2);
    ctx.stroke();
    for (let i = 0; i < count; i++) {
      let base = i / count;
      let frac = cw ? (base + animFrac) : (base - animFrac);
      frac -= Math.floor(frac);
      let angle = frac * Math.PI * 2;
      let x = w/2 + Math.cos(angle) * radius;
      let y = h/2 + Math.sin(angle) * radius;
      drawPlane(x, y, angle, Math.min(w,h)/500);
    }
  }

  function draw() {
    ctx.clearRect(0,0,w,h);
    ctx.strokeStyle = strokeColor;
    ctx.lineWidth = Math.max(2, Math.min(w,h)*0.01);
    ctx.setLineDash([dashOn, dashOff]);
    ctx.lineDashOffset = animFrac * 1000;
    let rOuter = Math.min(w,h) * 0.42;
    let rInner = Math.min(w,h) * 0.28;
    drawOrbit(rOuter, planeCountOuter, true);
    drawOrbit(rInner, planeCountInner, false);
    animFrac += 0.004;
    requestAnimationFrame(draw);
  }
  draw();

  function updateTime() {
    let now = new Date();
    let hours = now.getHours();
    let minutes = now.getMinutes();
    let seconds = now.getSeconds();
    let ampm = hours >= 12 ? "PM" : "AM";
    hours = hours % 12;
    hours = hours ? hours : 12;
    let str = 
      String(hours).padStart(2,"0")+":"+
      String(minutes).padStart(2,"0")+":"+
      String(seconds).padStart(2,"0")+" "+ampm;
    document.getElementById("time").innerText = str;
  }
  setInterval(updateTime, 1000);
  updateTime();

  const homeCanvas = document.getElementById("homeIcon");
  const homeCtx = homeCanvas.getContext("2d");
  function drawHome() {
    homeCtx.clearRect(0,0,homeCanvas.width,homeCanvas.height);
    homeCtx.beginPath();
    homeCtx.moveTo(25,5);
    homeCtx.lineTo(5,20);
    homeCtx.lineTo(10,20);
    homeCtx.lineTo(10,40);
    homeCtx.lineTo(40,40);
    homeCtx.lineTo(40,20);
    homeCtx.lineTo(45,20);
    homeCtx.closePath();
    homeCtx.fillStyle="#fff";
    homeCtx.fill();
  }
  drawHome();
  homeCanvas.onclick = ()=>{window.location.href="login.php";};

  const tgCanvas = document.getElementById("tgIcon");
  const tgCtx = tgCanvas.getContext("2d");
  function drawTG() {
    tgCtx.clearRect(0,0,tgCanvas.width,tgCanvas.height);
    tgCtx.beginPath();
    tgCtx.moveTo(5,20);
    tgCtx.lineTo(45,5);
    tgCtx.lineTo(35,45);
    tgCtx.lineTo(25,30);
    tgCtx.lineTo(15,35);
    tgCtx.closePath();
    tgCtx.fillStyle="#fff";
    tgCtx.fill();
  }
  drawTG();
  tgCanvas.onclick = ()=>{window.location.href="https://t.me/bytrox_1";};
  document.getElementById("menuIcon").onclick = ()=>{window.location.href="login.php";};
  document.getElementById("tgImg").onclick = ()=>{window.location.href="https://t.me/bytrox_1";};
</script>
</body>
</html>
